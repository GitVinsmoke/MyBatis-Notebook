# Mybatis XML映射文件

Mapper XML 文件

映射器类：动态代理

1. SQL映射文件的命名空间必须是接口的完全限定名
2. 接口方法必须与SQL id一致（除了使用注解的SQL语句）
3. 接口的入参必须与parameterType类型一致
4. 接口的返回值必须与resultType类型一致


## parameterType（输入参数类型）

```xml
<select id="selectUsers" resultType="User">
  select id, username, password
  from users
  where id = #{id}
</select>
```

上面的这个示例说明了一个非常简单的命名参数映射。参数类型被设置为 int，这样这个参数就可以被设置成任何内容。原生的类型或简单数据类型（比如整型和字符串）因为没有相关属性，它会完全用参数值来替代。然而，如果传入一个复杂的对象，行为就会有一点不同了。比如：

```xml
<insert id="insertUser" parameterType="User">
  insert into users (id, username, password)
  values (#{id}, #{username}, #{password})
</insert>
```



1. 传递简单类型

	使用 #{} 表示一个占位符，使用 ${} 表示SQL拼接，拼接时的规则参考SQL模糊查询。原生的类型或简单数据类型（比如字符串以及整数）因为没有相关属性，它会用完全参数值来替代。

2. 传递POJO对象

	MyBatis使用OGNL表达式解析对象字段的值，#{}或者${}括号中的值为POJO的属性名称。

3. 传递POJO封装对象

	查询条件可能是综合的查询条件，不仅包括用户查询条件还包括其他的查询条件（比如查询用户信息的时候，将用户购买商品的信息也作为查询的条件），仅仅使用一个简单的POJO作为入参可能并不实际，而需要多方面的数据，这时可以使用包装对象传递输入参数。

	包装对象：POJO类中的一个属性是另外一个POJO，即对象中封装着对象

## Result Maps

**resultMap** 元素是 MyBatis 中最重要最强大的元素。它可以让你从 90% 的 JDBC ResultSets 数据提取代码中解放出来, 并在一些情形下允许你做一些 JDBC 不支持的事情。 实际上，在对复杂语句进行联合映射的时候，它很可能可以代替数千行的同等功能的代码。 ResultMap 的设计思想是，简单的语句不需要明确的结果映射，而复杂一点的语句只需要描述它们的关系就行了。

你已经见过简单映射语句的示例了,但没有明确的 resultMap。比如:
